<!DOCTYPE html>
<html>
<meta charset="utf-8">

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<body style="margin: 0 auto; background: #f3f2f2;">
    <div id="fb-root"></div>
     <script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = 'https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v2.12&appId=318405871917318&autoLogAppEvents=1';
          fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>

    <div class="row" style="margin: 0px 0px 10px;">
        <div class="col-md-12" style="text-align: center; background: #337ab7; color: #f3f2f2;">
                <img width="100px" style="margin-top: 10px;" src="./logo.png">
                <h2>CÃ”NG Cá»¤ KHá»I Táº O CODE ÄÄ‚NG KÃ Há»ŒC PHáº¦N - B3BIESEC</h2>
        </div>
    </div>
    <div ng-app="myAppIUH" ng-controller="myCtrl" class="row" style="width: 100%;margin: 0 auto;">
        <div class="col-md-8">

            <div class="col-md-12">
				<div class="panel panel-primary">
					<div class="panel-heading" style="text-align: center;">ÄÄƒng KÃ½ Lá»›p Há»c Pháº§n Theo MÃ£ Lá»›p Há»c Pháº§n</div>
					<div class="form-group panel-body">
						<label>MÃ£ Lá»›p Há»c Pháº§n:</label>
                        <input  class="form-control"  ng-model="maLopHocPhan">
                        <label>NhÃ³m:</label>
						<input type="number" min="1" max="5" class="form-control" ng-model="nhom">
						<button class="btn btn-primary" style="margin:10px 0;" data-toggle="collapse" data-target="#codeDangKyLopHP" ng-click="generationCodeRegisterClass()">Khá»Ÿi Táº¡o</button>
						<div id="codeDangKyLopHP" class="collapse" class="col-md-12">
							<textarea class="form-control"  style="width: 100%;" cols="50">{{codeGenerationCodeRegisterClass}}</textarea>
						</div>
					</div>
				</div>
            </div>   

            <div class="col-md-12" >
				<div class="panel panel-primary">
					<div class="panel-heading" style="text-align: center;"> Sinh Code Load Lá»›p Há»c Pháº§n Theo MÃ£ Há»c Pháº§n</div>
				   <div class="form-group panel-body">
						<label>MÃ£ Há»c Pháº§n:</label>
						<input class="form-control"  ng-model="maHocPhan">
						<button class="btn btn-primary"  style="margin:10px 0;"  data-toggle="collapse" data-target="#codeLoadLop" ng-click="generationCodeLoadClass()">Khá»Ÿi Táº¡o</button>
						<div id="codeLoadLop" class="collapse" class="col-md-12">
							<textarea class="form-control" style="width: 100%;" cols="50">{{codeGenerationCodeLoadClass}}</textarea>
						</div>
					</div>
				</div>
            </div>

            <style>
                .fb-comments span{
                    width: 100% !important;
                }
                .fb-comments span iframe{
                    width: 100% !important;
                }
            </style>
            <div class="fb-comments col-md-12" data-href="https://www.facebook.com/tanphongtcd" data-numposts="100"></div>      
        </div>
        
        <div class="col-md-4">
			<div class="panel panel-primary">
				<div class="panel-heading" style="text-align: center;">HÆ°á»›ng Dáº«n</div>
				<div class="panel-body">
                        <div class="panel-body">
                                <p style="color: red;text-align: center;font-weight: bold;">ğŸ•µ ÄÄƒng kÃ½ lá»›p Há»c Pháº§n SiÃªu Nhanh</p>
                                <p>Má»¥c Ä‘Ã­ch: Há»— trá»£ Ä‘Äƒng kÃ½ nhanh theo mÃ£ lá»›p há»c pháº§n khi chá»‰ cáº§n biáº¿t mÃ£ há»c pháº§n.</p>
                                <p>ğŸ’ BÆ°á»›c 1: ÄÄƒng nháº­p trang <a href="http://www.iuh.edu.vn/phongdaotao/Login.aspx.">ÄÄƒng KÃ½ Há»c Pháº§n</a></p>
								<p>ğŸ’ BÆ°á»›c 2: Di chuyá»ƒn vÃ o trang <a href="http://www.iuh.edu.vn/phongdaotao/DanhSachLopHocPhan.aspx">Xem Lá»›p Há»c Pháº§n</a> Ä‘á»ƒ láº¥y MÃ£ Há»c Pháº§n</p>
                                <p>ğŸ’ BÆ°á»›c 3: Nháº­p mÃ£ lá»›p há»c pháº§n. vÃ  nhÃ³m thá»±c hÃ nh vá»›i lá»›p há»c pháº§n cÃ³ thá»±c hÃ nh</p>
                                <p>ğŸ’ ChÃº Ã½: Vá»›i Lá»›p Há»c Pháº§n cÃ³ nhÃ³m thÃ¬ nháº­p nhÃ³m hoáº·c Ä‘á»ƒ trá»‘ng</p>
                                <p>ğŸ’ BÆ°á»›c 4: Nháº¥n button <strong style="color:blue">Khá»Ÿi Táº¡o</strong>.</p>
                                <p>ğŸ’ BÆ°á»›c 5: <strong style="color:blue">Copy Ä‘oáº¡n mÃ£ code</strong> nhÆ° hÃ¬nh phÃ­a dÆ°á»›i.</p>
                                <p>ğŸ’ BÆ°á»›c 6: Truy cáº­p trang <a href="http://www.iuh.edu.vn/phongdaotao/DangKyHP.aspx">ÄÄƒng KÃ½ Há»c Pháº§n</a> vÃ  nháº¥n tá»• há»£p phÃ­m <strong style="color:blue">Ctrl+Shift+J</strong> Ä‘á»ƒ Ä‘áº¿n giao diá»‡n console.</p>
                                <p>ğŸ’ BÆ°á»›c 7: Táº¡i Ä‘Ã¢y Copy Ä‘oáº¡n mÃ£ phia trÃªn <strong style="color:blue">paste vÃ o khung console</strong> nhÆ° hÃ¬nh dÆ°á»›i.</p>
                                <p>ğŸ’ BÆ°á»›c 8: Enter vÃ  chá» káº¿t quáº£.</p>
                                <p style="color:red;text-align:  center;font-weight:  bold;">ğŸ•µ Khá»Ÿi táº¡o code Load Lá»›p Há»c Pháº§n SiÃªu Nhanh</p>
                                <p>Má»¥c Ä‘Ã­ch: GiÃºp load nhanh cÃ¡c lá»›p há»c pháº§n trong khung Ä‘Äƒng kÃ½ tá»« mÃ£ há»c pháº§n cÃ³ sáºµn. Chá»©c nÄƒng nÃ y giÃºp sinh viÃªn dá»… dÃ ng kiá»ƒm tra Ä‘Æ°á»£c lá»›p há»c pháº§n</p>
                                <p>Äiá»ƒm hay cá»§a chá»©c nÄƒng nÃ y giÃºp cho sinh viÃªn khi Ä‘Ã£ Ä‘Äƒng kÃ½ há»c pháº§n A nhÆ°ng váº«n cÃ³ thá»ƒ load láº¡i lá»›p há»c pháº§n A Ä‘á»ƒ kiá»ƒm tra cÃ¡c lá»›p trá»‘ng hoáº·c tÃ¬nh tráº¡ng sinh viÃªn cá»§a lá»›p. Äá»ƒ biáº¿t mÃ  bay nháº£y khi lá»›p chÆ°a Ä‘á»§ sinh viÃªn</p>
                                <p>ğŸ’ TÆ°Æ¡ng tá»± nhÆ° trÃªn, nhÆ°ng thay vÃ¬ nháº­p MÃ£ Lá»›p Há»c Pháº§n thÃ¬ nháº­p MÃ£ Há»c Pháº§n</p>
                                <p style="color:red;text-align:  center;font-weight:  bold;"> ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ MÃ£ nguá»“n vÃ  phÃ¡t triá»ƒn  ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§</p>
                                <p>Bá»™ cÃ´ng cá»¥ phÃ¡t sinh mÃ£ Ä‘Äƒng kÃ½ há»c pháº§n Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi team B3bieSec thuá»™c club An ToÃ n ThÃ´ng Tin - IUH.</p>
                                <p>MÃ£ nguá»“n vÃ  tÃ i liá»‡u Ä‘Æ°á»£c cÃ´ng khai Ä‘áº¿n cá»™ng Ä‘á»“ng sinh viÃªn thÃ nh mÃ£ nguá»“n má»Ÿ táº¡i Ä‘á»‹a chá»‰ github <a href="https://github.com/phongptn93/iuher-trick">here</a></p>
                                <p>Má»¥c Ä‘Ã­ch cá»§a bá»™ tool giÃºp tá»‘i Æ°u hÃ³a tá»‘c Ä‘á»™ load vÃ  trÃ¡nh táº£i dá»¯ liá»‡u tá»« server quÃ¡ nhiá»u, CÃ´ng cá»¥ cÃ³ kháº£ nÄƒng giáº£m Ä‘Ã¡ng Ä‘á»ƒ thá»i gian load há»c pháº§n vÃ  Ä‘Äƒng kÃ½.</p>
                                <p>Má»i Ä‘Ã³ng gÃ³p cÃ³ thá»ƒ liÃªn há»‡ team táº¡i Ä‘á»‹a chá»‰: <a href="https://www.facebook.com/tanphongtcd">Fb Aki</a></p>
                                <p>ğŸ‘® Káº¿ hoáº·c phÃ¡t triá»ƒn: </p>
                                <p> ğŸ–– Kiá»ƒm tra tÃ¬nh tráº¡ng lá»›p há»c pháº§n hiá»‡n táº¡i nhanh chÃ³ng</p>
                                <p> ğŸ–– .... </p> 
                                <p style="color:red;text-align:  center;font-weight:  bold;"> ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ ThÃ nh ViÃªn Há»— Trá»£ ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§</p>
                                <p>ğŸ‘‰ VÅ© An Khang - FB </p>
                                <p>ğŸ‘‰ LÆ°u Gia Äá»©c - FB </p>
                                <p>ğŸ‘‰ Pháº¡m VÄƒn Duáº«n - FB </p>
                                <p>ğŸ‘‰ DÆ°Æ¡ng Tháº¿ TÃ i - FB</p>
                                <p style="color:red;text-align:  center;font-weight:  bold;"> ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ Cá»™ng Äá»“ng IT-IUH ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§</p>
                                <p>ğŸ˜ https://fb.com/ITHumans/</p> 
                                <p>ğŸ˜ https://fb.com/groups/cntt.iuh/</p> 
								<p>NgoÃ i ra cÅ©ng xin cáº£m Æ¡n Ä‘áº¿n má»™t sá»‘ thÃ nh viÃªn cÅ©ng nhÆ° nhá»¯ng ngÆ°á»i báº¡n Ä‘Ã£ gÃ³p Ã½ há»— trá»£ Ä‘á»ƒ bá»™ cÃ´ng cá»¥ Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ</p>
                            </div>
				</div>
            </div>
        </div>

    </div>

    <script>
    var app = angular.module('myAppIUH', []);
    app.controller('myCtrl', function($scope) {
        $scope.maHocPhan = "";
        $scope.maLopHocPhan = "";
        $scope.codeGenerationCodeRegisterClass  = "";
        $scope.generationCodeLoadClass = function(){
            var str = "GirdDangKyHocPhanDeleteAllRow('tblLopHocPhanChuaDangKy');";
                str = "var namHoc = 2018; var nienHoc= namHoc+' - '+ (namHoc + 1); var hocKy='1'; var trangThai = '1';";
                str += "var MaHocPhan = '" + $scope.maHocPhan + "';";
                str += "document.getElementById('ctl00_MainContent_hddNienHoc').value = namHoc;";
                str += "document.getElementById('ctl00_MainContent_txtNienHoc').value = nienHoc;";
                str += "document.getElementById('ctl00_MainContent_txtHocKy').value = hocKy;";
                str += "document.getElementsByName('LoaiDangKy')[trangThai-1].checked = true;";
                str += "LoadLopHocPhan_asynchr(AjaxDangKyHocPhan.GetLopHocPhan(MaHocPhan , ' ', namHoc, hocKy, trangThai));";
                $scope.codeGenerationCodeLoadClass = str;
        };

        $scope.generationCodeRegisterClass = function(){

            /*var request = new XMLHttpRequest;
            request.open('POST', 'http://www.iuh.edu.vn/Phongdaotao/ajaxpro/DangKyHP,App_Web_3fhy23r3.ashx', true);
            request.setRequestHeader('Content-type', 'text/plain; charset=utf-8');
			request.setRequestHeader('X-AjaxPro-Method', 'GetLopHocPhan');
            request.send(JSON.stringify({MaHocPhan: $scope.maLopHocPhan.substring(0, $scope.maLopHocPhan.length - 2) , MonTuongDuong: ' ', NamHoc: namHoc, HocKy: hocKy, TrangThaiDangKy: trangThai})) // Make sure to stringify
            request.onload = function() {
                // Do whatever with response
                var data = request.responseText;
                data = data.replace('new Ajax.Web.DataSet(','').replace('new Ajax.Web.DataTable(','').replace(')','').replace(')','').replace(';/*','');
                var json = JSON.parse(data);
                var maID = '';
                for(var i = 0;i< a["Result"][1].length; i++)
                {
                    if(a["Result"][1][i][2] === MaLopHocPhan)
                    {
                        maID = a["Result"][1][i][0];
                        break;
                    }
                }

            }*/

                //Register
              
                var str = "var namHoc = 2018; var hocKy='1'; var trangThai = '1';";
                str += "var maLopHocPhan = '" + $scope.maLopHocPhan + "';";
                str += "var maHocPhan = maLopHocPhan.substring(0, maLopHocPhan.length - 2);";
                str += "var nhom = '" + ($scope.nhom <= 1 ? 1 : $scope.nhom)  +"';";
                str += "var json = AjaxDangKyHocPhan.GetLopHocPhan(maHocPhan, ' ', namHoc, hocKy, trangThai);";
                str += "var data = json.value.Result.Tables[0].Rows;";
                str += "var IDLopHocPhan = 0;";
                str += "for(var i = 0;i< data.length;i++)";
                str += "{";
                str += "if(data[i]['LopHocPhan'] == maLopHocPhan){";
                str += "        IDLopHocPhan = data[i]['IDLopHocPhan'];";
                str += "        break;";
                str += "    }";
                str += "}";
                str += "var res = AjaxDangKyHocPhan.DangKy(IDLopHocPhan, trangThai, '-1', namHoc, '3', maHocPhan, ' ', nhom).value;";
                str += "alert(res.Message);";
                
                $scope.codeGenerationCodeRegisterClass = str;
                console.log($scope.codeGenerationCodeRegisterClass);
            };

    });
    </script>

</body>
</html>
